무조건 아래 기획서대로 계획 세워서 만들되, 한번에 불가능하면 단위를 상세하게 쪼개서 나머지 작업들은 백로그 문서에 넣어라.

－－－－－－－－－－－－－－－－－
# 🔌 전기 배선 네비게이션 사이트 구현 기획서
```
당신은 PixiJS와 GSAP에 능숙한 프론트엔드 개발자입니다.
아래 기획서를 바탕으로 전기 배선 퍼즐 형태의 인터랙티브 사이트맵을 구현해주세요.

# 📋 프로젝트 개요

## 컨셉
- 남색 배경에 전기 배선과 파이프 연결부가 있는 인터랙티브 사이트맵
- 파이프 연결부를 클릭하여 90도씩 회전시켜 전기 경로 생성
- 변압기부터 전구까지 경로가 완성되면 전구 점등 및 해당 사이트로 이동 가능
- **게임이 아닌 디자인적 인터랙션**에 중점

---

# 🎨 비주얼 디자인

## 색상 시스템

### 배경
- Dark Navy (#0a1929 또는 유사)
- 단색, 그라데이션 없음

### 배선 색상
- 채도 낮은 어두운 톤들 (다양하게)
- 예: #4a5568, #5a4a3a, #3a5a5a 등
- 원색이나 밝은 색 지양

### 전구 색상 (5개, 고유 색상)
1. **HIHO1**: 청록색 (#0ea5a5)
2. **HIHO2**: 짙은 빨강 (#b91c1c)
3. **HIHO3**: 짙은 보라 (#7c3aed)
4. **HIHO4**: 앰버/주황 (#d97706)
5. **HIHO5**: 딥 그린 (#047857)

---

# 🏗️ 구조 설계

## 레이아웃
- **그리드 기반** (예: 20x30 타일, 각 타일 50px - 자유 조정 가능)
- 모든 그리드에 배선 있는 것 아님
- 여백 충분히 확보
- 전구 5개는 좌/우/아래에 골고루 분산

## 요소별 사양

### 1. 변압기 박스 (시작점)
- 위치: 상단 중앙
- 디자인: 
  - 사각형 박스 (금속 질감)
  - 가운데 작은 LED 표시
  - 아래로 배선 1개 연결
- 클릭 불가능
- 초기 뷰포트에 포함

### 2. 파이프 연결부 (핵심 인터랙션)
- **타입**: 직선 1종 (━ 또는 ┃)
- **회전**: 클릭 시 90도씩 (0° → 90° → 180° → 270° → 0°...)
- **애니메이션**: GSAP 사용, 0.3초, ease-out
- **위치**: 분기점/전환점에만 (교차점마다 있는 게 아님)
- **디자인**: 
  - 실제 배관 조인트 느낌
  - 미니멀하게
  - 회전 중심 명확
  - 호버 시 살짝 밝아지기 (피드백)

### 3. 배선
- I자 직선 (━ 또는 ┃)
- 연결부들을 연결
- 두께: 적당히 (3-5px)
- 색상: 어두운 톤 다양하게

### 4. 전구 (5개)
- **기본 상태**: 거의 안 보임 (opacity: 0.2)
- **점등 상태**:
  - 전구 자체가 고유 색상으로 밝게 빛남
  - 변압기부터 전구까지 **경로 전체**가 같은 색상으로 발광
  - 전구 주변에 사이트 이름 표시 (조명으로 드러남)
- **클릭**: 점등된 전구 클릭 시 alert("HIHO1로 이동") 등 (실제 사이트 연결은 나중)

---

# ⚡ 핵심 로직

## 경로 탐색 알고리즘
1. 변압기를 시작점으로 설정
2. 각 연결부의 현재 회전 상태 확인
3. DFS 또는 BFS로 연결 가능한 경로 탐색
4. 전구에 도달하면 해당 경로 저장
5. **경로 전체를 전구 색상으로 발광 처리**

## 연결부 회전 규칙
```
직선 파이프:
0°: ━ (좌우 연결)
90°: ┃ (상하 연결)
180°: ━ (좌우 연결, 0°와 동일)
270°: ┃ (상하 연결, 90°와 동일)
```

## 전기 흐름
- **시각적 애니메이션 없음** (파티클 효과 ❌)
- 연결 완료 시 **즉시** 경로 발광
- 연결 끊김 시 **즉시** 발광 제거

---

# 🖱️ 인터랙션

## PC
- **마우스 휠**: 줌 인/아웃 (0.5x ~ 2x)
- **드래그**: 화면 이동 (팬)
- **클릭**: 연결부 회전

## 모바일
- **핀치**: 줌 인/아웃
- **드래그**: 화면 이동
- **탭**: 연결부 회전

## 초기 뷰포트
```
[변압기 박스]
      ┃
      ●  (첫 연결부)
      ┃
```
- 이 정도만 보이게 줌/위치 설정
- 사용자가 스크롤하여 탐색

---

# 💡 조명 시스템

## 뷰포트 중심 조명
- **색상**: 하얀색 (#ffffff)
- **효과**: Radial gradient
  - 중심: opacity 0.4
  - 가장자리: opacity 0
- **크기**: 뷰포트 크기의 1/3 정도
- **위치**: 항상 화면 중앙 (카메라 따라 이동)
- **목적**: 너무 어둡지 않게, 시야 확보

## 전구 점등 조명
- **색상**: 전구 고유 색상
- **효과**: Radial gradient
  - 중심: opacity 0.3
  - 가장자리: opacity 0
- **크기**: 전구 크기의 2~3배
- **위치**: 전구 중심
- **추가**: 이 조명 안에 사이트 이름 텍스트 표시

---

# 🛠️ 기술 요구사항

## 필수 라이브러리
- **PixiJS** (v7 이상): 렌더링
- **GSAP** (v3 이상): 회전 애니메이션
- 순수 JavaScript (또는 TypeScript)

## 레이어 구조
```
[Layer 1] 배경 (남색)
[Layer 2] 배선 (어두운 색상)
[Layer 3] 뷰포트 조명 (하얀 radial gradient)
[Layer 4] 전구 발광 효과 (전구 색상 radial gradient)
[Layer 5] 텍스트 (사이트 이름)
```

## 성능 최적화
- 배선은 Graphics 객체로 한 번 그리기
- 연결부만 Sprite로 회전
- 조명은 필터 또는 Sprite 활용
- 불필요한 렌더링 최소화

---

# 📋 구현 가이드라인

## 필수 요구사항
1. **난이도**: 쉬움 (5번 내외 클릭으로 1개 전구 점등)
2. **전구 배치**: 좌/우/아래에 골고루 분산
3. **배선 밀도**: 여백 충분 (답답하지 않게)
4. **연결부 개수**: 최소한으로 (10~15개 정도)
5. **회전 제한**: 없음 (무한 회전 가능)
6. **반응형**: PC/모바일 모두 대응

## 자유 재량 (당신이 결정)
- 정확한 그리드 크기
- 연결부 정확한 위치
- 배선 상세 경로
- 파이프 연결부 구체적 디자인

## 파이프 연결부 디자인 힌트
- 실제 배관 조인트 느낌
- 심플하고 미니멀
- 회전 중심 명확하게
- 금속 질감 표현 (선택)
- 십자 또는 원형 베이스

---

# 🎯 개발 순서 제안

1. **기본 세팅**
   - PixiJS 앱 초기화
   - 배경 설정
   - 그리드 시스템 구축

2. **요소 배치**
   - 변압기 박스
   - 배선 그리기
   - 연결부 배치
   - 전구 배치

3. **인터랙션 구현**
   - 연결부 클릭 → 회전 (GSAP)
   - 줌/팬 기능
   - 모바일 터치 대응

4. **로직 구현**
   - 경로 탐색 알고리즘
   - 전구 점등 판정
   - 경로 발광 처리

5. **비주얼 효과**
   - 뷰포트 조명
   - 전구 발광
   - 사이트 이름 표시

6. **폴리싱**
   - 애니메이션 미세 조정
   - 성능 최적화
   - 버그 수정

---

# ✅ 체크리스트

구현 완료 시 다음을 확인해주세요:

- [ ] 변압기 박스가 상단 중앙에 배치되었나?
- [ ] 연결부 클릭 시 90도씩 부드럽게 회전하나?
- [ ] 경로가 완성되면 전구가 즉시 점등되나?
- [ ] 점등된 경로 전체가 전구 색상으로 빛나나?
- [ ] 경로가 끊기면 즉시 소등되나?
- [ ] 줌/팬이 PC와 모바일 모두에서 작동하나?
- [ ] 뷰포트 조명이 화면 중앙을 따라다니나?
- [ ] 전구 점등 시 사이트 이름이 보이나?
- [ ] 5번 내외 클릭으로 1개 전구 점등 가능한가?
- [ ] 전체적으로 여백이 충분하고 답답하지 않은가?

---

# 💬 추가 요청

1. **코드 구조**
   - 모듈화된 구조로 작성
   - 주석 적절히 추가
   - 변수명 명확하게

２. **개선 제안**
   - 구현하면서 더 나은 아이디어가 있으면 제안해주세요
   - 기술적 제약이나 개선점 알려주세요